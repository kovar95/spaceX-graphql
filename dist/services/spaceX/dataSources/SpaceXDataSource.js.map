{"version":3,"file":"SpaceXDataSource.js","sourceRoot":"/","sources":["services/spaceX/dataSources/SpaceXDataSource.ts"],"names":[],"mappings":";;;;;AAAA,mEAAwE;AACxE,+FAAuE;AAEvE,MAAM,gBAAiB,SAAQ,uCAAc;IAC3C;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,OAAO,GAAG,gCAAgC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,OAAuB;QAC3C,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,KAAa;QAChD,MAAM,MAAM,GAAG;YACb,OAAO,EAAE;gBACP,KAAK;gBACL,MAAM;aACP;SACF,CAAC;QAEF,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;QAC3D,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,EAAU;QAC/B,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,YAAY,kBAAkB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACtE,OAAO,IAAA,8BAAoB,EAAC,QAAQ,CAAC,CAAC;IACxC,CAAC;CACF;AAED,kBAAe,gBAAgB,CAAC","sourcesContent":["import { RESTDataSource, RequestOptions } from \"apollo-datasource-rest\";\nimport createMissionDetails from \"../dataLoaders/createMissionDetails\";\n\nclass SpaceXDataSource extends RESTDataSource {\n  constructor() {\n    super();\n    this.baseURL = \"https://api.spacexdata.com/v4/\";\n  }\n\n  async willSendRequest(request: RequestOptions) {\n    request.headers.set(\"Content-Type\", \"application/json\");\n  }\n\n  async getAllLaunches(offset: number, limit: number) {\n    const params = {\n      options: {\n        limit,\n        offset,\n      },\n    };\n\n    const response = await this.post(`launches/query`, params);\n    return response;\n  }\n\n  async getLaunchDetails(id: string) {\n    const response = await this.get(`launches/${encodeURIComponent(id)}`);\n    return createMissionDetails(response);\n  }\n}\n\nexport default SpaceXDataSource;\n"]}